{"version":3,"sources":["../../src/client/composables/useI18nData.ts","../../src/client/define.ts"],"sourcesContent":["import { usePageData } from \"@vuepress/client\";\nimport { computed, type ComputedRef } from \"vue\";\nimport type { I18nData, I18nPluginPageData } from \"../../shared/types.js\";\nimport {\n  baseLocalePath,\n  containerClass,\n  locales,\n  titleClass,\n  translationGuides,\n} from \"../define.js\";\n\n/**\n * Get the i18n metadata of current page\n */\nexport const useI18nData = (): ComputedRef<I18nData> =>\n  computed(() => {\n    const {\n      outdated: isOutdated = false,\n      pathLocale = baseLocalePath,\n      sourceLink,\n      sourceUpdatedTime,\n      untranslated: isUntranslated = false,\n      updatedTime,\n    } = usePageData<I18nPluginPageData>().value.i18n ?? {};\n\n    const locale =\n      locales[pathLocale ?? baseLocalePath] ?? locales[baseLocalePath]!;\n    const translationGuide =\n      translationGuides[pathLocale] ?? translationGuides[baseLocalePath];\n    return {\n      isOutdated,\n      isUntranslated,\n      locale,\n      options: {\n        baseLocalePath,\n        containerClass,\n        titleClass,\n      },\n      pathLocale,\n      sourceLink,\n      sourceUpdatedTime,\n      translationGuide,\n      updatedTime,\n    };\n  });\n","import {\n  translationGuides as _translationGuides,\n  locales as _locales,\n  //@ts-expect-error 2307\n} from \"@temp/i18n-locales\";\nimport type { I18nPluginLocaleData } from \"../shared/types.js\";\n\n// VuePress defines\ndeclare const I18N_PLUGIN_CONTAINER_CLASS: string[];\ndeclare const I18N_PLUGIN_BASE_LOCALE_PATH: string;\ndeclare const I18N_PLUGIN_TITLE_CLASS: string[];\nconst containerClass = I18N_PLUGIN_CONTAINER_CLASS;\nconst baseLocalePath = I18N_PLUGIN_BASE_LOCALE_PATH;\nconst titleClass = I18N_PLUGIN_TITLE_CLASS;\n\n// declare in file ${temp}/i18n-locales.js\ntype Locales = Record<string, I18nPluginLocaleData>;\n\nconst translationGuides = _translationGuides as Record<\n  string,\n  string | undefined\n>;\nconst locales = _locales as Locales;\n\nexport {\n  containerClass,\n  translationGuides,\n  locales,\n  baseLocalePath,\n  titleClass,\n};\n"],"mappings":";AAAA,SAAS,mBAAmB;AAC5B,SAAS,gBAAkC;;;ACD3C;AAAA,EACE,qBAAqB;AAAA,EACrB,WAAW;AAAA,OAEN;AAOP,IAAM,iBAAiB;AACvB,IAAM,iBAAiB;AACvB,IAAM,aAAa;AAKnB,IAAM,oBAAoB;AAI1B,IAAM,UAAU;;;ADRT,IAAM,cAAc,MACzB,SAAS,MAAM;AACb,QAAM;AAAA,IACJ,UAAU,aAAa;AAAA,IACvB,aAAa;AAAA,IACb;AAAA,IACA;AAAA,IACA,cAAc,iBAAiB;AAAA,IAC/B;AAAA,EACF,IAAI,YAAgC,EAAE,MAAM,QAAQ,CAAC;AAErD,QAAM,SACJ,QAAQ,cAAc,cAAc,KAAK,QAAQ,cAAc;AACjE,QAAM,mBACJ,kBAAkB,UAAU,KAAK,kBAAkB,cAAc;AACnE,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA,SAAS;AAAA,MACP;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF,CAAC;","names":[]}